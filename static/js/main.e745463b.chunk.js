(this.webpackJsonpvizsort=this.webpackJsonpvizsort||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(14),o=n.n(i),s=(n(102),n(103),n(104),n(9)),l=n(23),d=n(24),c=n(28),u=n(25),h=n(27),p=n(10),g=n(26),f=n(151),v=function(e){return e.gridSize},b=function(e){return e.gridData},m=function(e){return{type:"CHANGE_GRID_SIZE",payload:e}},y=n(152),D=n(155),E=n(154),S=n(153),G=n(91),w=n(150),O=n(90),j=n(41);function x(){var e=Object(s.a)(["\n        cursor: grabbing;\n    "]);return x=function(){return e},e}function k(){var e=Object(s.a)(["\n    cursor: grab;\n    position: absolute;\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n    width: 1rem;\n    height: 1rem;\n    border-radius: 50%;\n    background-color: #d3d3d3;\n\n    ",";\n"]);return k=function(){return e},e}function M(){var e=Object(s.a)(["\n    position: absolute;\n    top: -50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 10px;\n"]);return M=function(){return e},e}function N(){var e=Object(s.a)(["\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 9.5rem;\n    height: 5px;\n    border-radius: 2px;\n    background-color: royalblue;\n"]);return N=function(){return e},e}function z(){var e=Object(s.a)(["\n    position: relative;\n    width: 10rem;\n    height: 2rem;\n"]);return z=function(){return e},e}var C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isDragging:!1,originalX:0,translateX:0,lastTranslateX:0,boundingWidth:0,maxGridSize:50,currGridSize:25},n.handleMouseDown=n.handleMouseDown.bind(Object(j.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(j.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(j.a)(n)),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.xPosition,t=this.refs.barRef.clientWidth-16;this.setState({xPosition:e,boundingWidth:t,translateX:t/2,lastTranslateX:t/2})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseDown",value:function(e){var t=e.clientX;window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),this.setState({originalX:t,isDragging:!0})}},{key:"handleMouseMove",value:function(e){var t=e.clientX,n=this.state,a=n.isDragging,r=n.boundingWidth,i=t-n.originalX+n.lastTranslateX;a&&(i>r&&(i=r),i<0&&(i=0),this.setState({translateX:i}))}},{key:"handleMouseUp",value:function(){this.setState({originalX:0,lastTranslateX:this.state.translateX,isDragging:!1}),this.handleGridSizeChange(),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleGridSizeChange",value:function(){var e=this.refs.barRef.clientWidth-16,t=this.state,n=t.lastTranslateX,a=t.maxGridSize,r=Math.round(n/e*a);this.props.changeGridSize(r>2?r:2),this.props.createNewGrid()}},{key:"handleLocalGridSizeChange",value:function(){var e=this.state,t=e.boundingWidth,n=e.lastTranslateX,a=e.maxGridSize,r=Math.round(n/t*a);return r>2?r:2}},{key:"render",value:function(){var e=this.state,t=e.translateX,n=e.isDragging,a=this.handleLocalGridSizeChange();return r.a.createElement(R,null,r.a.createElement(T,{ref:"barRef"},r.a.createElement(L,{ref:"ballRef",onMouseDown:this.handleMouseDown,x:t,isDragging:n},r.a.createElement(I,null,a))))}}]),t}(a.Component),R=p.b.div(z()),T=p.b.div(N()),I=p.b.div(M()),L=p.b.div.attrs({style:function(e){var t=e.x;return{transform:"translate(".concat(t,"px, -50%)")}}})(k(),(function(e){return e.isDragging&&Object(p.a)(x())})),U=Object(g.b)((function(e){return{gridSize:v(e)}}),{changeGridSize:m})(C);function X(){var e=Object(s.a)(["\n    color: royalblue;\n    margin-left: 5px;\n    border: 1px solid royalblue;\n\n    &:hover, &:active, &:focus {\n        background-color: royalblue !important;\n        border: 1px solid royalblue !important;\n        box-shadow: none !important;\n        outline: none;\n\n    }\n"]);return X=function(){return e},e}function A(){var e=Object(s.a)(["\n    width: calc(15px + 100%);\n    border-bottom: 2px solid #eee;\n"]);return A=function(){return e},e}function W(){var e=Object(s.a)(["\n    width: 100%;\n    max-width: 100%;\n    margin: 0;\n    padding-left: 0;\n    padding-right: 0;\n"]);return W=function(){return e},e}function _(){var e=Object(s.a)(["\n    a {\n        color: royalblue;\n    }\n"]);return _=function(){return e},e}function H(){var e=Object(s.a)(["\n    font-family: cursive;\n    box-sizing: border-box;\n    :focus {\n        box-shadow: none;\n        outline: none;\n    }\n"]);return H=function(){return e},e}var J=function(e){return e.map((function(e){return{x:e.x,y:e.y,color:0}}))},P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleCreateNewGrid=function(){for(var e=n.props.gridSize,t=[],a=0;a<e;a++)t.push({x:a,y:Math.floor(25*Math.random())+1,color:0});n.resetAllEvents(),n.setState({gridDataLength:t.length,originalGridData:JSON.parse(JSON.stringify(t))}),n.props.setGridData(t)},n.handleResetGrid=function(){n.resetAllEvents(),n.setState({gridDataLength:n.state.originalGridData.length}),n.props.setGridData(JSON.parse(JSON.stringify(n.state.originalGridData)))},n.handleSelectionSort=function(){var e,t,a,r,i,o=n.state.gridDataLength;n.resetAllEvents();for(var s=function(s){setTimeout((function(){for(i=n.props.gridData,r=s+1;r<o;r++)(i=J(i))[s].color=1,e=i[s].y,t=s,i[r].y<e&&(e=i[r].y,i[t=r].color=2,n.props.setGridData(i)),a=i[s].y,i[s].y=e,i[t].y=a;n.props.setGridData(i),s===o-2&&(n.props.setGridData(J(i)),n.setState({gridDataLength:i.length}))}),200*s)},l=0;l<o-1;++l)s(l)},n.handleStalinsort=function(){var e=n.props.gridData,t=n.state.gridDataLength,a=0;n.resetAllEvents();for(var r=function(r){setTimeout((function(){if(e[a].y>e[a+1].y){(e=J(e))[a].color=1,e.splice(a+1,1);for(var i=a+1;i<t-(r-a)-1;i++)e[i].x--;a--}n.props.setGridData(e),a++,r===t-2&&(n.props.setGridData(J(e)),n.setState({gridDataLength:e.length}))}),200*r)},i=0;i<t-1;i++)r(i)},n.handleInsertionSort=function(){var e,t,a=n.props.gridData,r=n.state.gridDataLength;n.resetAllEvents();for(var i=function(i){setTimeout((function(){for(t=a[i].y,e=i-1;e>=0&&t<a[e].y;e--)a[e+1].y=a[e].y,e+1===i?a[i].color=1:a[e+1].color=2,a[e].color=2,n.props.setGridData(a);a[e+1].y=t,n.props.setGridData(a),a=J(a),i===r-1&&(a=J(a),n.props.setGridData(a))}),200*i)},o=1;o<r;o++)i(o)},n.handleGnomeSort=function(){var e=n.props.gridData,t=JSON.parse(JSON.stringify(e)),a=n.state.gridDataLength,r=0,i=0;for(n.resetAllEvents();r<a;)if(i++,0===r&&r++,t[r].y>=t[r-1].y)r++;else{var o=t[r].y;t[r].y=t[r-1].y,t[r-1].y=o,r--}r=0;for(var s=function(t){setTimeout((function(){if(e=J(e),r>0){if(e[r].color=1,e[r-1].color=2,n.props.setGridData(e),e[r].y<e[r-1].y){var a=e[r].y;e[r].y=e[r-1].y,e[r-1].y=a,r-=2}n.props.setGridData(e)}r++,t===i-1&&(e=J(e),n.props.setGridData(e))}),50*t)},l=0;l<i;l++)s(l)},n.submitNewExpression=function(e){"Enter"===e.key&&n.handleNewExpression()},n.handleNewExpression=function(){var e=n.props.gridSize,t=n.refs.newGraphRef.value,a=n.refs.newGraphRef,r=[];try{Object(f.a)(t).evaluate({x:1})}catch(s){return console.log("Invalid expression: ".concat(t)),a.style.border="2px solid red",null}var i=Object(f.a)(t);n.resetAllEvents();for(var o=0;o<e;o++)r.push({x:o,y:i.evaluate({x:o}),color:0});n.props.setExpressionGraph(r)},n.handleSliderNewGrid=function(){n.props.isExpressionGraph?n.handleNewExpression():n.handleCreateNewGrid()},n.state={gridSize:12,originalGridData:[],gridDataLength:0},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=window.innerWidth,t=document.getElementById("basic-nav-dropdown");this.setState({gridDataLength:this.props.gridData.length,originalGridData:JSON.parse(JSON.stringify(this.props.gridData))}),e<992&&(t.style.paddingLeft=0)}},{key:"resetAllEvents",value:function(){for(var e=setTimeout(";"),t=0;t<e;t++)clearTimeout(t)}},{key:"render",value:function(){return r.a.createElement(Y,{id:"navbar"},r.a.createElement(Z,{bg:"light",expand:"lg"},r.a.createElement(y.a.Brand,{href:"#home"},"Viz-Sort"),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(D.a,{className:"mr-auto"},r.a.createElement(D.a.Link,{onClick:this.handleCreateNewGrid},"New"),r.a.createElement(D.a.Link,{onClick:this.handleResetGrid},"Reset")),r.a.createElement(U,{createNewGrid:this.handleSliderNewGrid.bind(this)}),r.a.createElement(V,{title:"Sorts"},r.a.createElement(E.a.Item,{onClick:this.handleStalinsort},"Stalin Sort"),r.a.createElement(E.a.Item,{onClick:this.handleSelectionSort},"Selection Sort"),r.a.createElement(E.a.Item,{onClick:this.handleInsertionSort},"Insertion Sort"),r.a.createElement(E.a.Item,{onClick:this.handleGnomeSort},"Gnome Sort")),r.a.createElement(S.a,{action:"javascript:void(-1)",onKeyDown:this.submitNewExpression,inline:!0},r.a.createElement(B,{type:"text",placeholder:"F(x)",ref:"newGraphRef",className:"size_ctrl"}),r.a.createElement(F,{variant:"outline-success",onClick:this.handleNewExpression},"Generate Graph")))))}}]),t}(a.Component),B=Object(p.b)(G.a)(H()),V=Object(p.b)(E.a)(_()),Y=Object(p.b)(w.a)(W()),Z=Object(p.b)(y.a)(A()),F=Object(p.b)(O.a)(X()),K=Object(g.b)((function(e){return{gridData:b(e),gridSize:v(e),isExpressionGraph:function(e){return e.isExpressionGraph}(e)}}),{changeGridSize:m,createNewGrid:function(e){return{type:"CREATE_NEW_GRID",payload:e}},setGridData:function(e){return{type:"SET_GRID_DATA",payload:e}},setExpressionGraph:function(e){return{type:"SET_EXPRESSION_GRAPH",payload:e}}})(P),$=n(69);function q(){var e=Object(s.a)(["\n    width: 100%;\n"]);return q=function(){return e},e}var Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={gridSize:12,innerWidth:200,innerHeight:200,gridHeight:0,gridData:[],dataSwapPoints:[]},n.gridWrap=r.a.createRef(),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=window,t=e.innerWidth,n=e.innerHeight,a=document.getElementById("navbar").clientHeight,r=this.props,i=r.gridData,o=r.dataSwapPoints;this.setState({innerWidth:t,innerHeight:n,gridData:i,gridHeight:window.innerHeight-a-20,dataSwapPoints:o}),this.forceUpdate()}},{key:"shouldComponentUpdate",value:function(e,t){var n=e.gridData,a=e.dataSwapPoints,r=this.props.numGridDataUpdated;return e.numGridDataUpdated!==r&&(this.setState({gridData:n,dataSwapPoints:a}),this.forceUpdate(),!0)}},{key:"render",value:function(){var e=this.state,t=e.innerWidth,n=e.gridData,a=e.gridHeight;return r.a.createElement(ee,{ref:this.gridWrap},r.a.createElement($.b,{stackBy:"y",height:a,width:t,colorType:"category",colorDomain:[0,1,2],colorRange:["royalblue","orange","purple"]},r.a.createElement($.a,{data:n,animation:!0})))}}]),t}(a.Component),ee=p.b.div(q()),te=Object(g.b)((function(e){var t=b(e);return{numGridDataUpdated:function(e){return e.numGridDataUpdated}(e),gridData:t}}))(Q);function ne(){var e=Object(s.a)(["\n  /* position: absolute;\n  width: 89.55%;\n  height: 80%;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: .5rem 1rem; */\n  background-color: white;\n"]);return ne=function(){return e},e}function ae(){var e=Object(s.a)(["\n  width: 100%;\n  max-width: 100%;\n  padding: 0;\n  margin: 0;\n"]);return ae=function(){return e},e}function re(){var e=Object(s.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  background-color: white;\n"]);return re=function(){return e},e}var ie=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).store=n.props.store,n.state={canvasSize:12},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(oe,null,r.a.createElement(K,{defaultValue:this.state.canvasSize,store:this.store}),r.a.createElement(se,null,r.a.createElement(le,null,r.a.createElement(te,null))))}}]),t}(a.Component),oe=p.b.div(re()),se=Object(p.b)(w.a)(ae()),le=p.b.div(ne());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));for(var de=n(46),ce=[],ue=0;ue<25;ue++)ce.push({x:ue,y:Math.floor(25*Math.random())+1,color:0});var he={gridSize:ce.length,gridData:JSON.parse(JSON.stringify(ce)),isExpressionGraph:!1,expression:"",numGridDataUpdated:0},pe=Object(de.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_GRID_SIZE":return Object.assign({},e,{gridSize:t.payload||25});case"CREATE_NEW_GRID":return Object.assign({},e,{gridData:t.payload||[],numGridDataUpdated:Math.round(1e3*Math.random())});case"SET_GRID_DATA":return Object.assign({},e,{gridData:t.payload||[],numGridDataUpdated:++e.numGridDataUpdated,isExpressionGraph:!1});case"SET_EXPRESSION_GRAPH":return Object.assign({},e,{gridData:t.payload,numGridDataUpdated:++e.numGridDataUpdated,isExpressionGraph:!0});default:return e}}));o.a.render(r.a.createElement(g.a,{store:pe},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,n){e.exports=n(146)}},[[97,1,2]]]);
//# sourceMappingURL=main.e745463b.chunk.js.map